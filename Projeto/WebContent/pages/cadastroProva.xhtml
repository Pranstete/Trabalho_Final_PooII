<ui:composition template="templateMenu.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui2="http://java.sun.com/jsf/facelets"
	xmlns:tm="http://java.sun.com/jsf/composite/terminal/1_0/components">

	<ui:define name="title">
		<h:outputText value="#{msg['pages.cadastroProva.title']}" />
	</ui:define>

	<ui:define name="principal">
		<h1>
			<p:outputLabel value="#{msg['pages.cadastroProva.menu']}" />
		</h1>
		<h:form>
			<p:panelGrid columns="2">
				<p:outputLabel value="#{msg['pages.cadastroProva.data']}" />
				<p:calendar id="dataProva" value="#{prova.dataProva}" pattern="dd/MM/yyyy" showOn="button"></p:calendar>

<p:outputLabel value="#{msg['pages.cadastroProva.professor']}" />
				<p:selectOneMenu value="#{provaManagedBean.professor}" converter="professorConverter" >
					<p:ajax update="faculdade, curso, disciplina, turma" />
					<f:selectItem itemValue="#{null}" itemLabel="#{msg['pages.cadastroProva.professor.msg']}" />
					<f:selectItems value="#{provaManagedBean.professores}" var="professor"
						itemValue="#{professor}" itemLabel="#{professor.nome}" />
				</p:selectOneMenu>
				
				<p:outputLabel value="#{msg['pages.cadastroProva.faculdade']}" />
				<p:selectOneMenu id="faculdade" value="#{provaManagedBean.faculdade}" converter="faculdadeConverter">
					<p:ajax update="curso, disciplina, turma" />
					<f:selectItem itemValue="#{null}" itemLabel="#{msg['pages.cadastroProva.faculdade.msg']}" />
					<f:selectItems value="#{provaManagedBean.faculdades}" var="faculdade"
						itemValue="#{faculdade}" itemLabel="#{faculdade.nome}" />
				</p:selectOneMenu>
				
				<p:outputLabel value="#{msg['pages.cadastroProva.curso']}" />
				<p:selectOneMenu id="curso" value="#{provaManagedBean.curso}" converter="cursoConverter">
					<p:ajax update="disciplina, turma" />
					<f:selectItem itemValue="#{null}" itemLabel="#{msg['pages.cadastroProva.curso.msg']}" />
					<f:selectItems value="#{provaManagedBean.cursos}" var="curso"
						itemValue="#{curso}" itemLabel="#{curso.nome}" />
				</p:selectOneMenu>
				
				<p:outputLabel value="#{msg['pages.cadastroProva.disciplina']}" />
				<p:selectOneMenu id="disciplina" value="#{provaManagedBean.prova.disciplina}" converter="disciplinaConverter">
					<p:ajax update="turma" />
					<f:selectItem itemValue="#{null}" itemLabel="#{msg['pages.cadastroProva.disciplina.msg']}" />
					<f:selectItems value="#{provaManagedBean.disciplinas}" var="disciplina"
						itemValue="#{disciplina}" itemLabel="#{disciplina.nome}" />
				</p:selectOneMenu>

				<p:outputLabel value="#{msg['pages.cadastroProva.turma']}" />
				<p:selectOneMenu id="turma" value="#{provaManagedBean.prova.turma}" converter="turmaConverter" required="true">
					<f:selectItem itemValue="#{null}" itemLabel="#{msg['pages.cadastroProva.turma.msg']}" />
					<f:selectItems value="#{provaManagedBean.turmas}" var="turma"
						itemValue="#{turma}" itemLabel="#{turma.nome}" />
				</p:selectOneMenu>
				

			</p:panelGrid>
			
			
			<p:spacer height="10"></p:spacer>
			<p:fieldset legend="#{msg['pages.cadastroProva.perguntas']}">
				<p:panelGrid columns="2">
				<p:outputLabel value="#{msg['pages.cadastroProva.disciplina']}" />
				<p:outputLabel value="#{msg['pages.cadastroProva.pergunta.escolha']}" />
				
				<p:selectOneMenu value="#{provaManagedBean.pergunta}" style="width:150px;">
					<f:selectItem noSelectionOption="true"></f:selectItem>
					<f:selectItems value="#{provaManagedBean.perguntas}" var="pergunta" itemLabel="#{pergunta.nome}"></f:selectItems>
				</p:selectOneMenu> 
				
				<p:selectOneMenu value="#{provaManagedBean.pergunta}" style="width:150px;">
					<f:selectItem noSelectionOption="true"></f:selectItem>
					<f:selectItems value="#{provaManagedBean.perguntas}" var="pergunta" itemLabel="#{pergunta.nome}"></f:selectItems>
				</p:selectOneMenu> 
				
				</p:panelGrid>
			</p:fieldset>
			
		</h:form>
	</ui:define>
</ui:composition>
